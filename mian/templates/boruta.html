<!DOCTYPE html>
<html lang="en">
<head>
    {% include 'header.html' %}
    <title>Boruta Feature Selection - mian</title>
</head>

<body>
{% include 'navigation.html' %}
{% include 'loading-bar.html' %}

<div id="editor" class="editor">
    <h3><i class="fa fa-th-large"></i>&nbsp;Boruta Feature Selection <i class="fa fa-info-circle analysis-help" data-toggle="popover" data-title="Boruta Feature Selection" data-content="Selects for all relevant taxonomic items (features) using the Boruta algorithm. <br /><br />This analysis uses the R 'Boruta' package <a href='https://cran.r-project.org/web/packages/Boruta/Boruta.pdf' target='_blank'>here</a>" data-trigger="hover"></i></h3>

    {% include 'project_list.html' %}

    <hr/>

    {% include 'filtering_options.html' %}

    <hr/>

    <h4>Analysis Parameters</h4>

    <label class="control-label">Taxonomic Level  <i class="fa fa-info-circle" data-toggle="popover" data-title="Taxonomic Level" data-content="Calculate the Boruta feature selection at the taxonomic level selected. The OTUs will be grouped together (by summing the OTU values) at the selected taxonomic level before the analysis is applied." data-trigger="hover"></i></label>
    <select id="taxonomy" name="taxonomy" class="form-control pad-bottom">
        <option value="Kingdom">Kingdom</option>
        <option value="Phylum">Phylum</option>
        <option value="Class">Class</option>
        <option value="Order">Order</option>
        <option value="Family">Family</option>
        <option value="Genus">Genus</option>
        <option value="Species">Species</option>
        <option value="OTU" selected>OTU</option>
    </select>

    <label class="control-label">Category Breakdown <i class="fa fa-info-circle" data-toggle="popover" data-title="Category Breakdown" data-content="Indicate which metadata should be used as the grouping variable" data-trigger="hover"></i></label>
    <select id="catvar" name="catvar" class="form-control">
        {% for catVar in catVars %}
        <option value="{{ catVar }}">{{ catVar }}</option>
        {% endfor %}
    </select>

    <label class="control-label">Max Runs  <i class="fa fa-info-circle" data-toggle="popover" data-title="Max Runs" data-content="The maximum number of runs the Boruta analysis should use" data-trigger="hover"></i></label>
    <input class="form-control" id="maxruns" name="maxruns" type="number" value="100"/>

    <label class="control-label">P-Value Threshold  <i class="fa fa-info-circle" data-toggle="popover" data-title="P-Value Threshold" data-content="The threshold at which the p-value is deemed significant" data-trigger="hover"></i></label>
    <input class="form-control" id="pval" name="pval" type="number" value="0.01"/>

    <label class="control-label">Taxa Exclusion Threshold (Keep >=) <i class="fa fa-info-circle" data-toggle="popover" data-title="Taxonomy Exclusion Threshold" data-content="Any taxonomic items with a total value less than this threshold will be excluded from this analysis (helps processing time and reduces noise in the resulting graph)"></i></label>
    <input class="form-control" id="keepthreshold" name="keepthreshold" type="number" value="5"/>
</div>

<div class="content-wrapper">
    <div id="display-error" class="project-empty" style="display:none;">
        <i class="fa fa-exclamation-circle fa-4x"></i>
        <h3>Analysis cannot be performed with these parameters</h3>
        <h5>Try changing the Category Breakdown parameter and try again</h5>
    </div>

    <div id="analysis-container" class="analysis-container" style="min-height:500px;">
        <table class="table table-hover">
            <thead>
            <tr id="stats-headers">
            </tr>
            </thead>
            <tbody id="stats-rows">
            </tbody>
        </table>
    </div><!-- /.container -->

    <div id="push" style="height:42px;"></div>
</div>
{% include 'footer-viz.html' %}

<!-- Include custom JS here -->
<script src="static/js/core.boruta.js"></script>

<!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
<!--<script src="static/js/ie10-viewport-bug-workaround.js"></script>-->

</body>
</html>
